<!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <title>–¢—Ä–µ–Ω–∞–∂—ë—Ä –ø–æ –±–∏–æ–ª–æ–≥–∏–∏ 10 –∫–ª–∞—Å—Å: –ö–ª–µ—Ç–∫–∞ (2 —É—Ä–æ–≤–Ω—è)</title> <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#fdf2f8;
    --bg2:#ecfeff;
    --card:#ffffff;
    --soft:#fff7fb;

    --accent:#fb7185;   /* —Ä–æ–∑–æ–≤—ã–π */
    --accent2:#22d3ee;  /* —Ü–∏–∞–Ω */
    --accent3:#a78bfa;  /* —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π */

    --text:#5a1a48;
    --muted:rgba(90,26,72,.72);
    --ok:#22c55e;
    --bad:#ef4444;
    --line:rgba(15,23,42,.10);
  }

  .sohaWrap{
    width:100%;
    max-width:100%;
    overflow-x:hidden;
    font-family:'Nunito',sans-serif;
    color:var(--text);
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    padding:12px;
    border-radius:18px;
    box-sizing:border-box;
  }
  .sohaWrap *{ box-sizing:border-box; }

  .app{
    width:100%;
    max-width:720px;
    margin:0 auto;
    background: rgba(255,255,255,.92);
    border:1px solid rgba(255,255,255,.6);
    border-radius:24px;
    padding:16px;
    box-shadow:0 14px 34px rgba(0,0,0,.08);
    overflow:hidden;
  }

  .head{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    align-items:flex-start;
    justify-content:space-between;
    margin-bottom:10px;
  }
  .title{
    margin:0;
    font-weight:800;
    letter-spacing:.2px;
    font-size:1.35rem;
  }
  .sub{
    margin:4px 0 0;
    color:var(--muted);
    font-size:.95rem;
    line-height:1.25;
  }
  .chips{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;}
  .chip{
    background:#fff;
    border:1px solid rgba(251,113,133,.18);
    border-radius:999px;
    padding:7px 10px;
    font-size:.84rem;
    color:var(--muted);
    box-shadow:0 6px 14px rgba(0,0,0,.05);
    white-space:nowrap;
  }
  .chip b{color:var(--text);}

  .progress{
    height:10px;
    background:rgba(34,211,238,.18);
    border-radius:999px;
    overflow:hidden;
    border:1px solid rgba(34,211,238,.18);
    margin:10px 0 14px;
  }
  .bar{
    height:100%;
    width:0%;
    background: linear-gradient(90deg,var(--accent),var(--accent2),var(--accent3));
    transition:.35s ease;
  }

  .card{
    background: rgba(255,247,251,.75);
    border:1px solid var(--line);
    border-radius:20px;
    padding:14px;
  }

  .row{
    display:flex; gap:10px; flex-wrap:wrap;
    align-items:center; justify-content:space-between;
    margin-bottom:10px;
  }
  .badge{
    background:#fff;
    border:1px solid rgba(15,23,42,.08);
    border-radius:999px;
    padding:6px 10px;
    font-size:.82rem;
    color:var(--muted);
    box-shadow:0 6px 14px rgba(0,0,0,.05);
  }

  .scene{
    display:flex;
    gap:10px;
    align-items:flex-start;
    margin:6px 0 12px;
    padding:10px 12px;
    border-radius:18px;
    background: rgba(241,245,255,.75);
    border:1px solid rgba(167,139,250,.16);
  }
  .sceneIcon{
    width:42px; height:42px;
    border-radius:16px;
    display:flex; align-items:center; justify-content:center;
    background: linear-gradient(135deg, rgba(251,113,133,.20), rgba(34,211,238,.18));
    font-size:1.25rem;
    flex:0 0 auto;
  }
  .sceneText{
    color:var(--muted);
    font-size:.92rem;
    line-height:1.35;
  }
  .sceneText b{ color:var(--text); }

  .q{
    font-weight:900;
    font-size:1.02rem;
    line-height:1.35;
    margin:8px 0 10px;
  }
  .answers{
    display:grid;
    gap:10px;
  }
  .ans{
    width:100%;
    border:none;
    border-radius:16px;
    padding:12px 12px;
    text-align:left;
    cursor:pointer;
    background:#fff;
    border:1px solid rgba(90,26,72,.10);
    box-shadow:0 8px 18px rgba(0,0,0,.06);
    transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
    font-size:.95rem;
    color:var(--text);
  }
  .ans:hover{ transform: translateY(-2px); box-shadow:0 12px 22px rgba(0,0,0,.08); background:#fff7fb; }
  .ans:disabled{ opacity:.78; cursor:default; transform:none; }

  .feedback{
    margin-top:12px;
    background: rgba(253,242,248,.7);
    border:1px solid rgba(251,113,133,.18);
    border-radius:18px;
    padding:12px;
    display:none;
  }
  .result{
    font-weight:900;
    margin-bottom:6px;
  }
  .good{ color:var(--ok); }
  .bad{ color:var(--bad); }
  .explain{
    color:rgba(90,26,72,.92);
    line-height:1.35;
    font-size:.92rem;
  }

  .actions{
    margin-top:10px;
    display:none;
    gap:10px;
    flex-wrap:wrap;
  }
  .btn{
    border:none;
    border-radius:16px;
    padding:11px 12px;
    cursor:pointer;
    font-weight:900;
    box-shadow:0 10px 22px rgba(0,0,0,.08);
  }
  .primary{
    flex:1 1 220px;
    background: linear-gradient(135deg,var(--accent),var(--accent2));
    color:#062b2a;
  }
  .ghost{
    flex:1 1 160px;
    background: rgba(255,255,255,.92);
    border:1px dashed rgba(90,26,72,.25);
    color:var(--text);
  }

  .menu{
    display:grid;
    gap:10px;
  }
  .menuBtn{
    width:100%;
    border:none;
    border-radius:18px;
    padding:14px 12px;
    cursor:pointer;
    font-weight:900;
    background: linear-gradient(135deg, rgba(251,113,133,.16), rgba(34,211,238,.14), rgba(167,139,250,.12));
    border:1px solid rgba(90,26,72,.12);
    box-shadow:0 10px 22px rgba(0,0,0,.06);
    text-align:center;
    color:var(--text);
  }
  .note{
    margin-top:10px;
    color:var(--muted);
    font-size:.9rem;
    line-height:1.35;
  }
</style>

<div class="sohaWrap">
  <div class="app">
    <div class="head">
      <div>
        <h2 class="title">üß´ –û—Ä–≥–∞–Ω–æ–∏–¥—ã: 2 –º–µ–º–±—Ä–∞–Ω—ã vs –±–µ–∑ –º–µ–º–±—Ä–∞–Ω—ã</h2>
        <div class="sub">30 –≤–æ–ø—Ä–æ—Å–æ–≤ ¬∑ 2 —É—Ä–æ–≤–Ω—è ¬∑ —Å–ø–æ–∫–æ–π–Ω—ã–π —Ç–µ–º–ø ¬∑ ¬´–î–∞–ª—å—à–µ¬ª –≤—Ä—É—á–Ω—É—é</div>
      </div>
      <div class="chips">
        <div class="chip" id="chipLevel"><b>–£—Ä–æ–≤–µ–Ω—å:</b> ‚Äî</div>
        <div class="chip" id="chipScore"><b>–û—á–∫–∏:</b> 0</div>
        <div class="chip" id="chipCount"><b>–í–æ–ø—Ä–æ—Å:</b> ‚Äî</div>
      </div>
    </div>

    <div class="progress"><div class="bar" id="bar"></div></div>

    <div class="card">
      <div class="row">
        <div class="badge" id="modeBadge">–ú–µ–Ω—é</div>
        <div class="badge" id="themeBadge">üß™ –û–±—Ä–∞–∑: ‚Äú–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–π —Å—Ç–æ–ª‚Äù</div>
      </div>

      <div class="scene">
        <div class="sceneIcon" id="sceneIcon">üî¨</div>
        <div class="sceneText" id="sceneText">
          –¢—ã –∫–∞–∫ –±—É–¥—Ç–æ –Ω–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π. –¢–≤–æ—è —Ü–µ–ª—å ‚Äî <b>—É–∑–Ω–∞—Ç—å –æ—Ä–≥–∞–Ω–æ–∏–¥</b> –∏ –æ–±—ä—è—Å–Ω–∏—Ç—å, <b>–ø–æ—á–µ–º—É –æ–Ω —Ç–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω</b>.
          –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –ø–æ–∫–∞ —Ç—ã –Ω–µ –Ω–∞–∂–º—ë—à—å <b>¬´–î–∞–ª—å—à–µ¬ª</b>.
        </div>
      </div>

      <div id="content"></div>

      <div class="feedback" id="feedback">
        <div class="result" id="result"></div>
        <div class="explain" id="explain"></div>
      </div>

      <div class="actions" id="actions">
        <button class="btn primary" id="nextBtn">–î–∞–ª—å—à–µ ‚ûú</button>
        <button class="btn ghost" id="menuBtn">–í –º–µ–Ω—é</button>
      </div>

      <div class="note">–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π ‚Äî –Ω–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ: —Ç—ã —á–∏—Ç–∞–µ—à—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏ —Å–ø–æ–∫–æ–π–Ω–æ –∏–¥—ë—à—å –¥–∞–ª—å—à–µ.</div>
    </div>
  </div>
</div>

<script>
/* =========================
   –í–æ–ø—Ä–æ—Å—ã (30): 2 —É—Ä–æ–≤–Ω—è
   ========================= */

const level1 = {
  id: 1,
  title: "–£—Ä–æ–≤–µ–Ω—å 1 ‚Äî —Å—Ä–µ–¥–Ω–∏–π",
  sceneIcon: "üß™",
  sceneText: "–†–∞–∑–º–∏–Ω–æ—á–Ω—ã–π –±–ª–æ–∫: —É–∑–Ω–∞—ë–º –æ—Ä–≥–∞–Ω–æ–∏–¥—ã –∏ –∏—Ö –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. –°–º–æ—Ç—Ä–∏ –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (–º–µ–º–±—Ä–∞–Ω—ã, –î–ù–ö, —Å—É–±—ä–µ–¥–∏–Ω–∏—Ü—ã).",
  questions: [
    {q:"–ö–∞–∫–∏–µ –æ—Ä–≥–∞–Ω–æ–∏–¥—ã –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –¥–≤—É–º–µ–º–±—Ä–∞–Ω–Ω—ã–º?", a:["–ú–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–∏ –∏ –ø–ª–∞—Å—Ç–∏–¥—ã","–†–∏–±–æ—Å–æ–º—ã –∏ —Ü–µ–Ω—Ç—Ä–∏–æ–ª–∏","–ñ–≥—É—Ç–∏–∫–∏ –∏ —Ä–µ—Å–Ω–∏—á–∫–∏"], c:0, e:"–ö –¥–≤—É–º–µ–º–±—Ä–∞–Ω–Ω—ã–º –æ—Ç–Ω–æ—Å—è—Ç—Å—è –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–∏ –∏ –ø–ª–∞—Å—Ç–∏–¥—ã."},
    {q:"–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–π:", a:["–§–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑","–°–∏–Ω—Ç–µ–∑ –ê–¢–§ (—ç–Ω–µ—Ä–≥–∏—è)","–£–ø–∞–∫–æ–≤–∫–∞ –±–µ–ª–∫–æ–≤"], c:1, e:"–ú–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–ª–µ—Ç–æ—á–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ –∏ —Å–∏–Ω—Ç–µ–∑ –ê–¢–§ ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —ç–Ω–µ—Ä–≥–∏–∏."},
    {q:"–°–∫–ª–∞–¥–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –º–µ–º–±—Ä–∞–Ω—ã –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–π –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è:", a:["–ì—Ä–∞–Ω—ã","–ö—Ä–∏—Å—Ç—ã","–¢–∏–ª–∞–∫–æ–∏–¥—ã"], c:1, e:"–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –º–µ–º–±—Ä–∞–Ω–∞ –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–π –æ–±—Ä–∞–∑—É–µ—Ç –∫—Ä–∏—Å—Ç—ã."},
    {q:"–ú–∞—Ç—Ä–∏–∫—Å –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–π ‚Äî —ç—Ç–æ:", a:["–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ä–≥–∞–Ω–æ–∏–¥–∞","–ù–∞—Ä—É–∂–Ω–∞—è –º–µ–º–±—Ä–∞–Ω–∞","–°—Ç–æ–ø–∫–∏ —Ç–∏–ª–∞–∫–æ–∏–¥–æ–≤"], c:0, e:"–ú–∞—Ç—Ä–∏–∫—Å ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–π."},
    {q:"–ü–æ—á–µ–º—É –∫—Ä–∏—Å—Ç—ã –≤–∞–∂–Ω—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–π?", a:["–£–º–µ–Ω—å—à–∞—é—Ç –ø–ª–æ—â–∞–¥—å –º–µ–º–±—Ä–∞–Ω—ã","–£–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –ø–ª–æ—â–∞–¥—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –º–µ–º–±—Ä–∞–Ω—ã –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞ –ê–¢–§","–•—Ä–∞–Ω—è—Ç –∫–∞—Ä–æ—Ç–∏–Ω–æ–∏–¥—ã"], c:1, e:"–ë–æ–ª—å—à–∞—è –ø–ª–æ—â–∞–¥—å –∫—Ä–∏—Å—Ç –ø–æ–≤—ã—à–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∏–Ω—Ç–µ–∑–∞ –ê–¢–§."},
    {q:"–ü–ª–∞—Å—Ç–∏–¥—ã –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è:", a:["–¢–æ–ª—å–∫–æ –≤ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–µ—Ç–∫–∞—Ö","–¢–æ–ª—å–∫–æ –≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö –∫–ª–µ—Ç–∫–∞—Ö","–í–æ –≤—Å–µ—Ö –∫–ª–µ—Ç–∫–∞—Ö"], c:0, e:"–ü–ª–∞—Å—Ç–∏–¥—ã ‚Äî –æ—Ä–≥–∞–Ω–æ–∏–¥—ã —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫."},
    {q:"–§—É–Ω–∫—Ü–∏—è —Ö–ª–æ—Ä–æ–ø–ª–∞—Å—Ç–æ–≤:", a:["–§–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑","–°–∏–Ω—Ç–µ–∑ –ê–¢–§ –ø—Ä–∏ –¥—ã—Ö–∞–Ω–∏–∏","–î–µ–ª–µ–Ω–∏–µ –∫–ª–µ—Ç–∫–∏"], c:0, e:"–•–ª–æ—Ä–æ–ø–ª–∞—Å—Ç—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑."},
    {q:"–°—Ç—Ä–æ–º–∞ —Ö–ª–æ—Ä–æ–ø–ª–∞—Å—Ç–∞ ‚Äî —ç—Ç–æ:", a:["–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ä–µ–¥–∞ —Ö–ª–æ—Ä–æ–ø–ª–∞—Å—Ç–∞","–°–∫–ª–∞–¥–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –º–µ–º–±—Ä–∞–Ω—ã","–ë–µ–ª–∫–æ–≤—ã–π ¬´–Ω–∞—Å–æ—Å¬ª"], c:0, e:"–°—Ç—Ä–æ–º–∞ ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ä–µ–¥–∞ —Ö–ª–æ—Ä–æ–ø–ª–∞—Å—Ç–∞."},
    {q:"–¢–∏–ª–∞–∫–æ–∏–¥—ã ‚Äî —ç—Ç–æ:", a:["–ü–ª–æ—Å–∫–∏–µ –º–µ–º–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ö–ª–æ—Ä–æ–ø–ª–∞—Å—Ç–∞","–î–≤–µ —Ü–µ–Ω—Ç—Ä–∏–æ–ª–∏","–ö–∞–ø–ª–∏ –∂–∏—Ä–∞"], c:0, e:"–¢–∏–ª–∞–∫–æ–∏–¥—ã ‚Äî –ø–ª–æ—Å–∫–∏–µ –º–µ–º–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∏–∑ –Ω–∏—Ö —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –≥—Ä–∞–Ω—ã."},
    {q:"–ì—Ä–∞–Ω—ã ‚Äî —ç—Ç–æ:", a:["–°—Ç–æ–ø–∫–∏ —Ç–∏–ª–∞–∫–æ–∏–¥–æ–≤","–°–∫–ª–∞–¥–∫–∏ –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–π","–ö—Ä–∏—Å—Ç–∞–ª–ª—ã –≤–µ—â–µ—Å—Ç–≤"], c:0, e:"–ì—Ä–∞–Ω—ã ‚Äî —Å—Ç–æ–ø–∫–∏ —Ç–∏–ª–∞–∫–æ–∏–¥–æ–≤."},
    {q:"–ì–¥–µ –∏–¥—ë—Ç —Å–≤–µ—Ç–æ–≤–∞—è —Ñ–∞–∑–∞ —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑–∞?", a:["–í –º–∞—Ç—Ä–∏–∫—Å–µ","–í –º–µ–º–±—Ä–∞–Ω–∞—Ö —Ç–∏–ª–∞–∫–æ–∏–¥–æ–≤","–í —Å—Ç—Ä–æ–º–µ"], c:1, e:"–°–≤–µ—Ç–æ–≤–∞—è —Ñ–∞–∑–∞ –∏–¥—ë—Ç –≤ –º–µ–º–±—Ä–∞–Ω–∞—Ö —Ç–∏–ª–∞–∫–æ–∏–¥–æ–≤."},
    {q:"–ì–¥–µ –∏–¥—ë—Ç —Å–∏–Ω—Ç–µ–∑ —É–≥–ª–µ–≤–æ–¥–æ–≤ –∏–∑ CO‚ÇÇ (—Ç–µ–º–Ω–æ–≤–∞—è —Å—Ç–∞–¥–∏—è –ø–æ —Å—É—Ç–∏)?", a:["–í —Å—Ç—Ä–æ–º–µ","–í –Ω–∞—Ä—É–∂–Ω–æ–π –º–µ–º–±—Ä–∞–Ω–µ","–í –∞–∫—Å–æ–Ω–µ–º–µ"], c:0, e:"–í —Å—Ç—Ä–æ–º–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–∏–Ω—Ç–µ–∑ –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏—Ö –≤–µ—â–µ—Å—Ç–≤ (—É–≥–ª–µ–≤–æ–¥–æ–≤) –∏–∑ CO‚ÇÇ."},
    {q:"–•—Ä–æ–º–æ–ø–ª–∞—Å—Ç—ã:", a:["–ë–µ—Å—Ü–≤–µ—Ç–Ω—ã–µ, –∑–∞–ø–∞—Å–∞—é—Ç –≤–µ—â–µ—Å—Ç–≤–∞","–°–æ–¥–µ—Ä–∂–∞—Ç –∫–∞—Ä–æ—Ç–∏–Ω–æ–∏–¥—ã –∏ –æ–∫—Ä–∞—à–∏–≤–∞—é—Ç –ø–ª–æ–¥—ã/—Ü–≤–µ—Ç–∫–∏","–°–∏–Ω—Ç–µ–∑–∏—Ä—É—é—Ç –±–µ–ª–∫–∏"], c:1, e:"–•—Ä–æ–º–æ–ø–ª–∞—Å—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–∞—Ä–æ—Ç–∏–Ω–æ–∏–¥—ã, –æ–∫—Ä–∞—à–∏–≤–∞—é—Ç –ø–ª–æ–¥—ã –∏ —Ü–≤–µ—Ç–∫–∏ –∏ –ø—Ä–∏–≤–ª–µ–∫–∞—é—Ç –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏ –Ω–∞—Å–µ–∫–æ–º—ã—Ö."},
    {q:"–õ–µ–π–∫–æ–ø–ª–∞—Å—Ç—ã:", a:["–°–æ–¥–µ—Ä–∂–∞—Ç –∫–∞—Ä–æ—Ç–∏–Ω–æ–∏–¥—ã","–ë–µ—Å—Ü–≤–µ—Ç–Ω—ã–µ –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–ø–∞—Å–∞—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é","–≠—Ç–æ —Ä–∏–±–æ—Å–æ–º—ã"], c:1, e:"–õ–µ–π–∫–æ–ø–ª–∞—Å—Ç—ã –±–µ—Å—Ü–≤–µ—Ç–Ω—ã–µ, –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–æ–¥–∑–µ–º–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∞—Ö –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–ø–∞—Å–∞—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é."},
    {q:"–ß—Ç–æ –º–æ–≥—É—Ç –¥–µ–ª–∞—Ç—å –ª–µ–π–∫–æ–ø–ª–∞—Å—Ç—ã –ø—Ä–∏ –æ—Å–≤–µ—â–µ–Ω–∏–∏?", a:["–ü—Ä–µ–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ —Ö–ª–æ—Ä–æ–ø–ª–∞—Å—Ç—ã","–ü—Ä–µ–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ —Ü–µ–Ω—Ç—Ä–∏–æ–ª–∏","–ò—Å—á–µ–∑–∞—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞"], c:0, e:"–õ–µ–π–∫–æ–ø–ª–∞—Å—Ç—ã –º–æ–≥—É—Ç –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ —Ö–ª–æ—Ä–æ–ø–ª–∞—Å—Ç—ã –ø—Ä–∏ –æ—Å–≤–µ—â–µ–Ω–∏–∏."},
  ]
};

const level2 = {
  id: 2,
  title: "–£—Ä–æ–≤–µ–Ω—å 2 ‚Äî —Å–ª–æ–∂–Ω—ã–π",
  sceneIcon: "üî¨",
  sceneText: "–£—Å–ª–æ–∂–Ω—è–µ–º: —Å–≤—è–∑–∏ —Å—Ç—Ä–æ–µ–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–∏, —á–∏—Å–ª–∞ (40S/60S, 9√ó3, 9+2), –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ (—ç–Ω–¥–æ—Å–∏–º–±–∏–æ–∑) –∏ –ø—Ä–∏–º–µ—Ä—ã.",
  questions: [
    {q:"–û–±—â–µ–µ –¥–ª—è –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–π –∏ –ø–ª–∞—Å—Ç–∏–¥:", a:["–û–¥–Ω–∞ –º–µ–º–±—Ä–∞–Ω–∞ –∏ –Ω–µ—Ç –î–ù–ö","–î–≤–µ –º–µ–º–±—Ä–∞–Ω—ã, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –î–ù–ö –∏ —Ä–∏–±–æ—Å–æ–º—ã, –¥–µ–ª–µ–Ω–∏–µ","–¢–æ–ª—å–∫–æ –±–µ–ª–∫–∏ –∏ –ª–∏–ø–∏–¥—ã"], c:1, e:"–ò –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–∏, –∏ –ø–ª–∞—Å—Ç–∏–¥—ã –¥–≤—É–º–µ–º–±—Ä–∞–Ω–Ω—ã–µ, –∏–º–µ—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –î–ù–ö –∏ —Ä–∏–±–æ—Å–æ–º—ã –∏ —Å–ø–æ—Å–æ–±–Ω—ã –¥–µ–ª–∏—Ç—å—Å—è."},
    {q:"–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–π –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É:", a:["–í–æ–∑–Ω–∏–∫–ª–∏ –∏–∑ —è–¥—Ä–∞","–≠–Ω–¥–æ—Å–∏–º–±–∏–æ–∑ –¥—Ä–µ–≤–Ω–∏—Ö –∞—ç—Ä–æ–±–Ω—ã—Ö –±–∞–∫—Ç–µ—Ä–∏–π","–°–æ–±—Ä–∞–ª–∏—Å—å –∏–∑ —Ä–∏–±–æ—Å–æ–º"], c:1, e:"–ú–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —ç–Ω–¥–æ—Å–∏–º–±–∏–æ–∑–∞ –¥—Ä–µ–≤–Ω–∏—Ö –∞—ç—Ä–æ–±–Ω—ã—Ö –±–∞–∫—Ç–µ—Ä–∏–π."},
    {q:"–≠—É–∫–∞—Ä–∏–æ—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∏–±–æ—Å–æ–º—ã –∏–º–µ—é—Ç —Ç–∏–ø:", a:["80S","70S","10S"], c:0, e:"–£ —ç—É–∫–∞—Ä–∏–æ—Ç —Ä–∏–±–æ—Å–æ–º—ã 80S."},
    {q:"–°—É–±—ä–µ–¥–∏–Ω–∏—Ü—ã —ç—É–∫–∞—Ä–∏–æ—Ç–∏—á–µ—Å–∫–æ–π —Ä–∏–±–æ—Å–æ–º—ã:", a:["30S –∏ 50S","40S –∏ 60S","20S –∏ 60S"], c:1, e:"–≠—É–∫–∞—Ä–∏–æ—Ç–∏—á–µ—Å–∫–∞—è —Ä–∏–±–æ—Å–æ–º–∞ 80S —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 40S –∏ 60S —Å—É–±—ä–µ–¥–∏–Ω–∏—Ü."},
    {q:"–ò–∑ —á–µ–≥–æ —Å–æ—Å—Ç–æ—è—Ç —Ä–∏–±–æ—Å–æ–º—ã?", a:["—Ä–†–ù–ö + –±–µ–ª–æ–∫ + —Å–æ–ª–∏ Mg","–î–ù–ö + –ª–∏–ø–∏–¥—ã","–¢—É–±—É–ª–∏–Ω + –∞–∫—Ç–∏–Ω"], c:0, e:"–†–∏–±–æ—Å–æ–º—ã —Å–æ—Å—Ç–æ—è—Ç –∏–∑ –±–µ–ª–∫–æ–≤ –∏ —Ä–†–ù–ö; –≤–∞–∂–Ω—ã —Å–æ–ª–∏ –º–∞–≥–Ω–∏—è."},
    {q:"–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∏–±–æ—Å–æ–º:", a:["–¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è (—Å–∏–Ω—Ç–µ–∑ –±–µ–ª–∫–∞)","–§–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑","–û–∫–∏—Å–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏—Ö –≤–µ—â–µ—Å—Ç–≤"], c:0, e:"–†–∏–±–æ—Å–æ–º—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç —Å–∏–Ω—Ç–µ–∑ –±–µ–ª–∫–∞ (—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é)."},
    {q:"–ì–¥–µ –º–æ–≥—É—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è —Ä–∏–±–æ—Å–æ–º—ã?", a:["–¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —è–¥—Ä–∞","–°–≤–æ–±–æ–¥–Ω–æ –≤ —Ü–∏—Ç–æ–ø–ª–∞–∑–º–µ –∏ –Ω–∞ –º–µ–º–±—Ä–∞–Ω–∞—Ö —à–µ—Ä–æ—Ö–æ–≤–∞—Ç–æ–π –≠–ü–°","–¢–æ–ª—å–∫–æ –≤ –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏—è—Ö"], c:1, e:"–†–∏–±–æ—Å–æ–º—ã –±—ã–≤–∞—é—Ç —Å–≤–æ–±–æ–¥–Ω—ã–µ –≤ —Ü–∏—Ç–æ–ø–ª–∞–∑–º–µ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —à–µ—Ä–æ—Ö–æ–≤–∞—Ç–æ–π –≠–ü–°."},
    {q:"–°–≤—è–∑—å —Å—Ç—Ä–æ–µ–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–∏: —Å–≤–æ–±–æ–¥–Ω—ã–µ —Ä–∏–±–æ—Å–æ–º—ã —Å–∏–Ω—Ç–µ–∑–∏—Ä—É—é—Ç –±–µ–ª–∫–∏‚Ä¶", a:["–¥–ª—è –Ω—É–∂–¥ –∫–ª–µ—Ç–∫–∏","—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ–∫—Ä–µ—Ü–∏–∏","—Ç–æ–ª—å–∫–æ –¥–ª—è —è–¥—Ä–∞"], c:0, e:"–°–≤–æ–±–æ–¥–Ω—ã–µ —Ä–∏–±–æ—Å–æ–º—ã —Å–∏–Ω—Ç–µ–∑–∏—Ä—É—é—Ç –±–µ–ª–∫–∏ –¥–ª—è –Ω—É–∂–¥ –∫–ª–µ—Ç–∫–∏."},
    {q:"–†–∏–±–æ—Å–æ–º—ã –Ω–∞ —à–µ—Ä–æ—Ö–æ–≤–∞—Ç–æ–π –≠–ü–° —Å–∏–Ω—Ç–µ–∑–∏—Ä—É—é—Ç –±–µ–ª–∫–∏‚Ä¶", a:["–¥–ª—è –º–µ–º–±—Ä–∞–Ω –∏–ª–∏ —Å–µ–∫—Ä–µ—Ü–∏–∏","—Ç–æ–ª—å–∫–æ –¥–ª—è –º–∏—Ç–æ—Ö–æ–Ω–¥—Ä–∏–π","–¥–ª—è –∑–∞–ø–∞—Å–∞–Ω–∏—è –∫—Ä–∞—Ö–º–∞–ª–∞"], c:0, e:"–†–∏–±–æ—Å–æ–º—ã –≠–ü–° –¥–µ–ª–∞—é—Ç –±–µ–ª–∫–∏ –¥–ª—è –º–µ–º–±—Ä–∞–Ω –∏–ª–∏ –¥–ª—è —Å–µ–∫—Ä–µ—Ü–∏–∏."},
    {q:"–ü–æ–ª–∏—Å–æ–º–∞ ‚Äî —ç—Ç–æ:", a:["–û–¥–Ω–∞ —Ä–∏–±–æ—Å–æ–º–∞ –±–µ–∑ –†–ù–ö","–ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–∏–±–æ—Å–æ–º –Ω–∞ –æ–¥–Ω–æ–π –∏–†–ù–ö","–î–≤–µ —Ü–µ–Ω—Ç—Ä–∏–æ–ª–∏"], c:1, e:"–ü–æ–ª–∏—Å–æ–º–∞ (–ø–æ–ª–∏—Ä–∏–±–æ—Å–æ–º–∞) ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∏–±–æ—Å–æ–º, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –Ω–∞ –æ–¥–Ω–æ–π –∏–†–ù–ö."},
    {q:"–ö–ª–µ—Ç–æ—á–Ω—ã–π —Ü–µ–Ω—Ç—Ä ‚Äî —ç—Ç–æ –Ω–µ–º–µ–º–±—Ä–∞–Ω–Ω—ã–π –æ—Ä–≥–∞–Ω–æ–∏–¥, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–π –¥–ª—è:", a:["–ñ–∏–≤–æ—Ç–Ω—ã—Ö —ç—É–∫–∞—Ä–∏–æ—Ç–∏—á–µ—Å–∫–∏—Ö –∫–ª–µ—Ç–æ–∫","–í—Å–µ—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π","–ë–∞–∫—Ç–µ—Ä–∏–π"], c:0, e:"–ö–ª–µ—Ç–æ—á–Ω—ã–π —Ü–µ–Ω—Ç—Ä ‚Äî –Ω–µ–º–µ–º–±—Ä–∞–Ω–Ω—ã–π –æ—Ä–≥–∞–Ω–æ–∏–¥ —ç—É–∫–∞—Ä–∏–æ—Ç–∏—á–µ—Å–∫–∏—Ö –∫–ª–µ—Ç–æ–∫ –∂–∏–≤–æ—Ç–Ω—ã—Ö."},
    {q:"–°–∫–æ–ª—å–∫–æ —Ü–µ–Ω—Ç—Ä–∏–æ–ª–µ–π –≤ –∫–ª–µ—Ç–æ—á–Ω–æ–º —Ü–µ–Ω—Ç—Ä–µ?", a:["–û–¥–Ω–∞","–î–≤–µ","–¢—Ä–∏"], c:1, e:"–ö–ª–µ—Ç–æ—á–Ω—ã–π —Ü–µ–Ω—Ç—Ä –≤–∫–ª—é—á–∞–µ—Ç –¥–≤–µ —Ü–µ–Ω—Ç—Ä–∏–æ–ª–∏."},
    {q:"–ò–∑ —á–µ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç –∫–∞–∂–¥–∞—è —Ü–µ–Ω—Ç—Ä–∏–æ–ª—å?", a:["9 —Ç—Ä–∏–ø–ª–µ—Ç–æ–≤ –º–∏–∫—Ä–æ—Ç—Ä—É–±–æ—á–µ–∫","9 –ø–∞—Ä –º–∏–∫—Ä–æ—Ç—Ä—É–±–æ—á–µ–∫ + 2 –≤ —Ü–µ–Ω—Ç—Ä–µ","–ò–∑ —Ä–†–ù–ö –∏ –±–µ–ª–∫–æ–≤"], c:0, e:"–ö–∞–∂–¥–∞—è —Ü–µ–Ω—Ç—Ä–∏–æ–ª—å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 9 —Ç—Ä–∏–ø–ª–µ—Ç–æ–≤ –º–∏–∫—Ä–æ—Ç—Ä—É–±–æ—á–µ–∫."},
    {q:"–§—É–Ω–∫—Ü–∏—è –∫–ª–µ—Ç–æ—á–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏:", a:["–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ä–µ—Ç–µ–Ω–∞ –¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏ –º–∏—Ç–æ–∑–µ –∏ –º–µ–π–æ–∑–µ","–°–∏–Ω—Ç–µ–∑ —É–≥–ª–µ–≤–æ–¥–æ–≤ –∏–∑ CO‚ÇÇ","–í–Ω—É—Ç—Ä–∏–∫–ª–µ—Ç–æ—á–Ω–æ–µ –ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏–µ"], c:0, e:"–ö–ª–µ—Ç–æ—á–Ω—ã–π —Ü–µ–Ω—Ç—Ä —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–∏–∫—Ä–æ—Ç—Ä—É–±–æ—á–µ–∫ –∏ –≤–µ—Ä–µ—Ç–µ–Ω–∞ –¥–µ–ª–µ–Ω–∏—è."},
    {q:"–û—Ä–≥–∞–Ω–æ–∏–¥—ã –¥–≤–∏–∂–µ–Ω–∏—è ‚Äî —ç—Ç–æ:", a:["–õ–∏–∑–æ—Å–æ–º—ã –∏ –ø–µ—Ä–æ–∫—Å–∏—Å–æ–º—ã","–†–µ—Å–Ω–∏—á–∫–∏ –∏ –∂–≥—É—Ç–∏–∫–∏","–¢–∏–ª–∞–∫–æ–∏–¥—ã –∏ –≥—Ä–∞–Ω—ã"], c:1, e:"–û—Ä–≥–∞–Ω–æ–∏–¥—ã –¥–≤–∏–∂–µ–Ω–∏—è ‚Äî —Ä–µ—Å–Ω–∏—á–∫–∏ –∏ –∂–≥—É—Ç–∏–∫–∏."},
  ]
};

const levels = [level1, level2];

/* =========================
   –õ–æ–≥–∏–∫–∞ (–±–µ–∑ —Ç–∞–π–º–µ—Ä–∞)
   ========================= */
let levelIndex = null;
let qIndex = 0;
let score = 0;
let answered = false;

const content = document.getElementById("content");
const bar = document.getElementById("bar");
const chipLevel = document.getElementById("chipLevel");
const chipScore = document.getElementById("chipScore");
const chipCount = document.getElementById("chipCount");
const modeBadge = document.getElementById("modeBadge");

const sceneIcon = document.getElementById("sceneIcon");
const sceneText = document.getElementById("sceneText");

const feedback = document.getElementById("feedback");
const resultEl = document.getElementById("result");
const explainEl = document.getElementById("explain");

const actions = document.getElementById("actions");
const nextBtn = document.getElementById("nextBtn");
const menuBtn = document.getElementById("menuBtn");

let playAll = false;
let scoreL1 = 0;

function updateHeader(){
  if(levelIndex === null){
    chipLevel.innerHTML = "<b>–£—Ä–æ–≤–µ–Ω—å:</b> ‚Äî";
    chipScore.innerHTML = "<b>–û—á–∫–∏:</b> 0";
    chipCount.innerHTML = "<b>–í–æ–ø—Ä–æ—Å:</b> ‚Äî";
    bar.style.width = "0%";
    modeBadge.textContent = "–ú–µ–Ω—é";
    sceneIcon.textContent = "üî¨";
    sceneText.innerHTML = `–¢—ã –∫–∞–∫ –±—É–¥—Ç–æ –Ω–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π. –¢–≤–æ—è —Ü–µ–ª—å ‚Äî <b>—É–∑–Ω–∞—Ç—å –æ—Ä–≥–∞–Ω–æ–∏–¥</b> –∏ –æ–±—ä—è—Å–Ω–∏—Ç—å, <b>–ø–æ—á–µ–º—É –æ–Ω —Ç–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω</b>. –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –ø–æ–∫–∞ —Ç—ã –Ω–µ –Ω–∞–∂–º—ë—à—å <b>¬´–î–∞–ª—å—à–µ¬ª</b>.`;
    return;
  }
  const L = levels[levelIndex];
  chipLevel.innerHTML = `<b>–£—Ä–æ–≤–µ–Ω—å:</b> ${L.title}`;
  chipScore.innerHTML = `<b>–û—á–∫–∏:</b> ${score}`;
  chipCount.innerHTML = `<b>–í–æ–ø—Ä–æ—Å:</b> ${Math.min(qIndex+1, L.questions.length)}/${L.questions.length}`;
  bar.style.width = (qIndex / L.questions.length * 100) + "%";
  modeBadge.textContent = "–†–µ–∂–∏–º: —Ç—Ä–µ–Ω–∞–∂—ë—Ä";
  sceneIcon.textContent = L.sceneIcon;
  sceneText.textContent = L.sceneText;
}

function menu(){
  levelIndex = null;
  qIndex = 0;
  score = 0;
  answered = false;
  playAll = false;
  scoreL1 = 0;

  feedback.style.display = "none";
  actions.style.display = "none";
  updateHeader();

  content.innerHTML = `
    <div class="menu">
      <button class="menuBtn" id="btnL1">üü† –£—Ä–æ–≤–µ–Ω—å 1 (—Å—Ä–µ–¥–Ω–∏–π) ‚Äî 15 –≤–æ–ø—Ä–æ—Å–æ–≤</button>
      <button class="menuBtn" id="btnL2">üü£ –£—Ä–æ–≤–µ–Ω—å 2 (—Å–ª–æ–∂–Ω—ã–π) ‚Äî 15 –≤–æ–ø—Ä–æ—Å–æ–≤</button>
      <button class="menuBtn" id="btnAll">üß´ –ü—Ä–æ–π—Ç–∏ –æ–±–∞ —É—Ä–æ–≤–Ω—è –ø–æ–¥—Ä—è–¥ (30 –≤–æ–ø—Ä–æ—Å–æ–≤)</button>
    </div>
    <div class="note">
      –ü–æ–¥—Å–∫–∞–∑–∫–∞: –µ—Å–ª–∏ —É—á–µ–Ω–∏–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–µ–≤–µ—Ä–Ω–æ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –û–Ω —á–∏—Ç–∞–µ—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏ –∏–¥—ë—Ç –¥–∞–ª—å—à–µ –∫–Ω–æ–ø–∫–æ–π ¬´–î–∞–ª—å—à–µ¬ª.
    </div>
  `;

  document.getElementById("btnL1").addEventListener("click", ()=>start(0,false));
  document.getElementById("btnL2").addEventListener("click", ()=>start(1,false));
  document.getElementById("btnAll").addEventListener("click", ()=>start(0,true));
}

function start(lvl, all){
  playAll = !!all;
  levelIndex = lvl;
  qIndex = 0;
  score = 0;
  answered = false;
  renderQuestion();
}

function renderQuestion(){
  answered = false;
  feedback.style.display = "none";
  actions.style.display = "none";
  nextBtn.textContent = "–î–∞–ª—å—à–µ ‚ûú";

  updateHeader();
  const L = levels[levelIndex];
  const item = L.questions[qIndex];

  content.innerHTML = `
    <div class="q">${item.q}</div>
    <div class="answers" id="answers"></div>
  `;

  const answersEl = document.getElementById("answers");
  item.a.forEach((t, idx)=>{
    const b = document.createElement("button");
    b.className = "ans";
    b.textContent = t;
    b.addEventListener("click", ()=>choose(idx));
    answersEl.appendChild(b);
  });
}

function lockAnswers(){
  document.querySelectorAll(".ans").forEach(b=>b.disabled=true);
}

function choose(idx){
  if(answered) return;
  answered = true;

  const L = levels[levelIndex];
  const item = L.questions[qIndex];

  const ok = (idx === item.c);
  if(ok) score++;

  lockAnswers();
  updateHeader();

  feedback.style.display = "block";
  actions.style.display = "flex";
  resultEl.innerHTML = ok
    ? `<span class="good">‚úÖ –í–µ—Ä–Ω–æ.</span>`
    : `<span class="bad">‚ùå –û—à–∏–±–∫–∞.</span>`;
  explainEl.textContent = item.e;

  feedback.scrollIntoView({behavior:"smooth", block:"start"});
}

function finishLevel(){
  const L = levels[levelIndex];
  bar.style.width = "100%";
  content.innerHTML = `
    <div class="q">‚úÖ –£—Ä–æ–≤–µ–Ω—å –∑–∞–≤–µ—Ä—à—ë–Ω: ${L.title}</div>
    <div class="note">
      –†–µ–∑—É–ª—å—Ç–∞—Ç —É—Ä–æ–≤–Ω—è: <b>${score}</b> / <b>${L.questions.length}</b>.
      ${playAll && levelIndex===0 ? "–ù–∞–∂–º–∏ ¬´–î–∞–ª—å—à–µ¬ª, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ —É—Ä–æ–≤–Ω—é 2." : "–ù–∞–∂–º–∏ ¬´–î–∞–ª—å—à–µ¬ª, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é."}
    </div>
  `;
  feedback.style.display = "none";
  actions.style.display = "flex";
  nextBtn.textContent = playAll && levelIndex===0 ? "–ö —É—Ä–æ–≤–Ω—é 2 ‚ûú" : "–í –º–µ–Ω—é ‚ûú";
}

function finishAll(){
  bar.style.width = "100%";
  content.innerHTML = `
    <div class="q">üéâ –¢—Ä–µ–Ω–∞–∂—ë—Ä –∑–∞–≤–µ—Ä—à—ë–Ω (30 –≤–æ–ø—Ä–æ—Å–æ–≤)</div>
    <div class="note">
      –ò—Ç–æ–≥–æ–≤—ã–µ –æ—á–∫–∏: <b>${score}</b> / <b>30</b>.<br>
      –•–æ—á–µ—à—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å ‚Äî –Ω–∞–∂–º–∏ ¬´–í –º–µ–Ω—é¬ª.
    </div>
  `;
  feedback.style.display = "none";
  actions.style.display = "flex";
  nextBtn.textContent = "–í –º–µ–Ω—é ‚ûú";
}

nextBtn.addEventListener("click", ()=>{
  if(levelIndex === null) return;

  const L = levels[levelIndex];

  // –µ—Å–ª–∏ –º—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–º–∞—Ä–∫–µ—Ä qIndex == length)
  if(qIndex >= L.questions.length){
    if(playAll && levelIndex === 0){
      scoreL1 = score;
      levelIndex = 1;
      qIndex = 0;
      score = scoreL1;
      renderQuestion();
      return;
    }
    if(playAll && levelIndex === 1){
      finishAll();
      // –ø–æ—Å–ª–µ —Ñ–∏–Ω–∞–ª–∞ –≤–µ—Ä–Ω—ë–º—Å—è –≤ –º–µ–Ω—é –ø–æ –∫–Ω–æ–ø–∫–µ
      levelIndex = null;
      return;
    }
    menu();
    return;
  }

  // –ü–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç—É: –±–µ–∑ –æ—Ç–≤–µ—Ç–∞ –¥–∞–ª—å—à–µ –Ω–µ –∏–¥—ë–º
  if(!answered) return;

  // —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
  qIndex++;
  if(qIndex < L.questions.length){
    renderQuestion();
  } else {
    // –∑–∞–≤–µ—Ä—à–∏–ª–∏ —É—Ä–æ–≤–µ–Ω—å: —Å—Ç–∞–≤–∏–º –º–∞—Ä–∫–µ—Ä qIndex = length
    qIndex = L.questions.length;
    finishLevel();
  }
});

menuBtn.addEventListener("click", menu);

menu();
</script>
